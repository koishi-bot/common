import{_ as o,l as n,a4 as s,m as i,w as l,R as r,a as h,f as e}from"./chunks/framework.B6YFTi4e.js";const q=JSON.parse('{"title":"koishi-plugin-forward","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/plugins/forward.md","filePath":"zh-CN/plugins/forward.md"}'),c={name:"zh-CN/plugins/forward.md"};function p(u,a,k,f,g,m){const t=r("chat-message"),d=r("chat-panel");return h(),n("div",null,[a[2]||(a[2]=s(`<h1 id="koishi-plugin-forward" tabindex="-1">koishi-plugin-forward <a class="header-anchor" href="#koishi-plugin-forward" aria-label="Permalink to &quot;koishi-plugin-forward&quot;">​</a></h1><p>koishi-plugin-forward 支持在不同的频道之间转发消息。它有两种使用方法：</p><h2 id="无数据库模式" tabindex="-1">无数据库模式 <a class="header-anchor" href="#无数据库模式" aria-label="Permalink to &quot;无数据库模式&quot;">​</a></h2><p>当没有加载数据库服务时，你需要手动提供转发规则数组。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">koishi.yml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  forward</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 请使用 {platform}:{channelId} 的格式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">qq:123456789</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      target</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">discord:987654321</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">      selfId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;33557799&#39;</span></span></code></pre></div><p>当用户 Alice 在频道 <code>source</code> 中发送消息 foo 的时候，<code>selfId</code> 对应的机器人就会在频道 <code>target</code> 中发送如下的内容。接着，频道 <code>target</code> 中的用户 Bob 也可以通过引用回复这条消息的方式将自己想说的话发回到频道 <code>source</code> 中去。</p>`,6)),i(d,null,{default:l(()=>[i(t,{nickname:"Koishi"},{default:l(()=>a[0]||(a[0]=[e("p",null,"Alice: foo",-1)])),_:1}),i(t,{nickname:"Bob"},{default:l(()=>a[1]||(a[1]=[e("blockquote",null,[e("p",null,"Alice: foo")],-1),e("p",null,"bar",-1)])),_:1})]),_:1}),a[3]||(a[3]=s('<h2 id="有数据库模式" tabindex="-1">有数据库模式 <a class="header-anchor" href="#有数据库模式" aria-label="Permalink to &quot;有数据库模式&quot;">​</a></h2><p>如果已经加载了数据库服务，那么上述规则列表将失效。此时插件会提供指令来管理转发规则。</p><table><thead><tr><th>指令语法</th><th>简写形式</th><th>功能描述</th></tr></thead><tbody><tr><td><code>forward add &lt;channel&gt;</code></td><td><code>fwd add</code></td><td>添加目标频道</td></tr><tr><td><code>forward remove &lt;channel&gt;</code></td><td><code>fwd rm</code></td><td>移除目标频道</td></tr><tr><td><code>forward clear</code></td><td><code>fwd clear</code></td><td>移除全部目标频道</td></tr><tr><td><code>forward list</code></td><td><code>fwd ls</code></td><td>查看目标频道列表</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>上述 <code>&lt;channel&gt;</code> 的语法是 <code>#{platform}:{channelId}</code>，前置的 <code>#</code> 字符不可忽略，请注意与配置项的不同。</p></div><h2 id="配置项" tabindex="-1">配置项 <a class="header-anchor" href="#配置项" aria-label="Permalink to &quot;配置项&quot;">​</a></h2><h3 id="storage" tabindex="-1">storage <a class="header-anchor" href="#storage" aria-label="Permalink to &quot;storage&quot;">​</a></h3><ul><li>类型：<code>&#39;database&#39; | &#39;config&#39;</code></li><li>默认值：<code>&#39;config&#39;</code></li></ul><p>转发规则的存储方式。</p><h3 id="rules" tabindex="-1">rules <a class="header-anchor" href="#rules" aria-label="Permalink to &quot;rules&quot;">​</a></h3><ul><li>类型：<code>Rule[]</code></li></ul><p>转发规则列表。详见 <a href="#转发规则">转发规则</a>。</p><h3 id="replytimeout" tabindex="-1">replyTimeout <a class="header-anchor" href="#replytimeout" aria-label="Permalink to &quot;replyTimeout&quot;">​</a></h3><ul><li>类型：<code>number</code></li><li>默认值：<code>3600000</code></li></ul><p>转发消息不再响应回复的时间 (毫秒)。</p><h2 id="转发规则" tabindex="-1">转发规则 <a class="header-anchor" href="#转发规则" aria-label="Permalink to &quot;转发规则&quot;">​</a></h2><h3 id="rule-source" tabindex="-1">rule.source <a class="header-anchor" href="#rule-source" aria-label="Permalink to &quot;rule.source&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>必须参数</li></ul><p>来源频道。</p><h3 id="rule-target" tabindex="-1">rule.target <a class="header-anchor" href="#rule-target" aria-label="Permalink to &quot;rule.target&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>必须参数</li></ul><p>目标频道。</p><h3 id="rule-selfid" tabindex="-1">rule.selfId <a class="header-anchor" href="#rule-selfid" aria-label="Permalink to &quot;rule.selfId&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>必须参数</li></ul><p>负责推送的机器人账号。</p><h3 id="rule-guildid" tabindex="-1">rule.guildId <a class="header-anchor" href="#rule-guildid" aria-label="Permalink to &quot;rule.guildId&quot;">​</a></h3><ul><li>类型：<code>string</code></li><li>必须参数</li></ul><p>目标频道的群组编号。</p>',27))])}const y=o(c,[["render",p]]);export{q as __pageData,y as default};
